const b=document.querySelector(".js-div-container__form"),v=document.querySelector(".js-fieldset-diseña");document.querySelector(".js-nubes");document.querySelector(".js-espacio");document.querySelector(".js-forky");document.querySelector(".js-legend-design");const i=document.querySelector(".js-form-design"),u=document.querySelector(".js-arrow"),k=e=>{e.target.id==="nubes"?(t.classList.add("card-background-nubes"),t.id="nubes",t.classList.remove("card-background-espacio"),t.classList.remove("card-background-forky")):e.target.id==="espacio"?(t.classList.add("card-background-espacio"),t.id="espacio",t.classList.remove("card-background-nubes"),t.classList.remove("card-background-forky")):e.target.id==="forky"&&(t.classList.add("card-background-forky"),t.id="forky",t.classList.remove("card-background-espacio"),t.classList.remove("card-background-nubes"))};v.addEventListener("click",k);const C=document.querySelector(".js-fieldset-rellena"),w=document.querySelector(".js-input-nameAddressee"),I=document.querySelector(".js-input-message");document.querySelector(".js-input-img");const l=document.querySelector(".js-input-phone"),T=document.querySelector(".js-input-nameSender"),$=document.querySelector(".js-input-insta");document.querySelector(".js-legend-fillout");const m=document.querySelector(".js-arrow-fillout"),g=document.querySelector(".js-form-fillout");l.addEventListener("input",E);function E(){l.value=l.value.replace(/[^0-9]/g,"")}const A=document.querySelectorAll(".js-legend"),F=e=>{e.currentTarget.classList.contains("js-legend-design")?(i.classList.toggle("collapse"),u.classList.toggle("rotate"),g.classList.add("collapse"),m.classList.remove("rotate"),f.classList.add("collapse"),p.classList.remove("rotate")):e.currentTarget.classList.contains("js-legend-fillout")?(g.classList.toggle("collapse"),m.classList.toggle("rotate"),i.classList.add("collapse"),u.classList.remove("rotate"),f.classList.add("collapse"),p.classList.remove("rotate")):e.currentTarget.classList.contains("js-legend-share")&&(f.classList.toggle("collapse"),p.classList.toggle("rotate"),i.classList.add("collapse"),u.classList.remove("rotate"),g.classList.add("collapse"),m.classList.remove("rotate"))};for(const e of A)e.addEventListener("click",F);const c=new FileReader,x=document.querySelector(".js__profile-upload-btn"),y=document.querySelector(".js__profile-image"),H=document.querySelector(".js-card-photo-img");function P(e){const s=e.currentTarget.files[0];c.addEventListener("load",D),c.readAsDataURL(s)}function D(){y.style.backgroundImage=`url(${c.result})`,H.style.backgroundImage=`url(${c.result})`}x.addEventListener("change",P);document.querySelector(".js-card");const t=document.querySelector(".js-card-found-img"),j=document.querySelector(".js-card-nameAddressee"),S=document.querySelector(".js-card-message"),M=document.querySelector(".js-card-photo-img"),h=document.querySelector(".js-card-phone"),L=document.querySelector(".js-card-nameSender"),q=document.querySelector(".js-card-insta"),_=document.querySelector(".js-button-reset");function a(e,s,n){e.target.id===s&&(n.innerHTML=e.target.value)}C.addEventListener("input",e=>{a(e,"nameAddressee",j),a(e,"message",S),a(e,"phone",h),a(e,"nameSender",L),a(e,"insta",q)});_.addEventListener("click",()=>{j.textContent="To: Woody",S.textContent="Te voy a echar mucho de menos",h.textContent="612345678",L.textContent="Mr. Potato",q.textContent="@mrpotato",M.style.backgroundImage='url("images/mr-potato.png")',t.classList.add("card-background-nubes"),t.classList.remove("card-background-espacio"),t.classList.remove("card-background-forky"),b.reset(),y.style.backgroundImage=""});document.querySelector(".js-legend-share");const f=document.querySelector(".js-form-share"),p=document.querySelector(".js-icon-arrow-share"),N=document.querySelector(".js-card-create"),O=document.querySelector(".js-share-open"),r=document.querySelector(".js-link");let d=document.querySelector(".js-urlCard");const R=document.querySelector(".js-twitter"),U=document.querySelector(".js-whatsapp"),W=document.querySelector(".js-email"),o={field1:1,field2:"",field3:"",field4:"",field5:"",field6:"",field7:"",photo:""},B=()=>{o.field2=w.value,o.field3=I.value,o.field4=l.value,o.field5=T.value,o.field6=$.value,o.field7=`/images/${t.id}.jpg`,o.photo=c.result};function J(e){e.preventDefault(),B(),fetch("https://dev.adalab.es/api/info/data",{method:"POST",body:JSON.stringify(o),headers:{"Content-type":"application/json"}}).then(s=>s.json()).then(s=>{const n=s.infoID;r.classList.remove("collapse"),n===void 0?(d.style.color="red",d.innerHTML="Ha ocurrido un error, inténtalo de nuevo"):(r.href=`./cardDetails.html?id=${n}`,d.style.color="nubes",d.innerHTML=r.href,O.classList.remove("collapse"),R.href=`https://twitter.com/intent/tweet?text=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${o.field2}&url=${r.href}`,U.href=`https://api.whatsapp.com/send?text=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${o.field2}%20${r.href}`,W.href=`mailto:?subject=Tarjeta%20hay%20un%20amigo%20en%20mi&body=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${o.field2}:%20${r.href}`)})}N.addEventListener("click",J);
//# sourceMappingURL=main.js.map
