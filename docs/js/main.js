const v=document.querySelector(".js-div-container__form"),b=document.querySelector(".js-fieldset-diseña");document.querySelector(".js-azul");document.querySelector(".js-amarillo");document.querySelector(".js-verde");document.querySelector(".js-legend-design");const i=document.querySelector(".js-form-design"),u=document.querySelector(".js-arrow"),k=e=>{e.target.id==="option1"?(t.classList.add("card-background-nubes"),t.classList.remove("card-background-naves"),t.classList.remove("card-background-forky")):e.target.id==="option2"?(t.classList.add("card-background-naves"),t.classList.remove("card-background-nubes"),t.classList.remove("card-background-forky")):e.target.id==="option3"&&(t.classList.add("card-background-forky"),t.classList.remove("card-background-naves"),t.classList.remove("card-background-nubes"))};b.addEventListener("click",k);const C=document.querySelector(".js-fieldset-rellena"),w=document.querySelector(".js-input-nameAddressee"),I=document.querySelector(".js-input-message");document.querySelector(".js-input-img");const l=document.querySelector(".js-input-phone"),T=document.querySelector(".js-input-nameSender"),E=document.querySelector(".js-input-insta");document.querySelector(".js-legend-fillout");const m=document.querySelector(".js-arrow-fillout"),g=document.querySelector(".js-form-fillout");l.addEventListener("input",$);function $(){l.value=l.value.replace(/[^0-9]/g,"")}const A=document.querySelectorAll(".js-legend"),F=e=>{e.currentTarget.classList.contains("js-legend-design")?(i.classList.toggle("collapse"),u.classList.toggle("rotate"),g.classList.add("collapse"),m.classList.remove("rotate"),f.classList.add("collapse"),p.classList.remove("rotate")):e.currentTarget.classList.contains("js-legend-fillout")?(g.classList.toggle("collapse"),m.classList.toggle("rotate"),i.classList.add("collapse"),u.classList.remove("rotate"),f.classList.add("collapse"),p.classList.remove("rotate")):e.currentTarget.classList.contains("js-legend-share")&&(f.classList.toggle("collapse"),p.classList.toggle("rotate"),i.classList.add("collapse"),u.classList.remove("rotate"),g.classList.add("collapse"),m.classList.remove("rotate"))};for(const e of A)e.addEventListener("click",F);const c=new FileReader,x=document.querySelector(".js__profile-upload-btn"),y=document.querySelector(".js__profile-image"),H=document.querySelector(".js-card-photo-img");function P(e){const o=e.currentTarget.files[0];c.addEventListener("load",D),c.readAsDataURL(o)}function D(){y.style.backgroundImage=`url(${c.result})`,H.style.backgroundImage=`url(${c.result})`}x.addEventListener("change",P);document.querySelector(".js-card");const t=document.querySelector(".js-card-found-img"),j=document.querySelector(".js-card-nameAddressee"),S=document.querySelector(".js-card-message"),M=document.querySelector(".js-card-photo-img"),h=document.querySelector(".js-card-phone"),L=document.querySelector(".js-card-nameSender"),q=document.querySelector(".js-card-insta"),_=document.querySelector(".js-button-reset");function a(e,o,n){e.target.id===o&&(n.innerHTML=e.target.value)}C.addEventListener("input",e=>{a(e,"nameAddressee",j),a(e,"message",S),a(e,"phone",h),a(e,"nameSender",L),a(e,"insta",q)});_.addEventListener("click",()=>{j.textContent="To: Buddy",S.textContent="Te voy a echar mucho de menos",h.textContent="612345678",L.textContent="Mr. Potato",q.textContent="@mrpotato",M.style.backgroundImage='url("images/mr-potato.png")',t.classList.add("card-background-nubes"),t.classList.remove("card-background-naves"),t.classList.remove("card-background-forky"),v.reset(),y.style.backgroundImage=""});document.querySelector(".js-legend-share");const f=document.querySelector(".js-form-share"),p=document.querySelector(".js-icon-arrow-share"),N=document.querySelector(".js-card-create"),O=document.querySelector(".js-share-open"),s=document.querySelector(".js-link");let d=document.querySelector(".js-urlCard");const R=document.querySelector(".js-twitter"),B=document.querySelector(".js-whatsapp"),U=document.querySelector(".js-email"),r={field1:1,field2:"",field3:"",field4:"",field5:"",field6:"",photo:""},z=()=>{r.field2=w.value,r.field3=I.value,r.field4=l.value,r.field5=T.value,r.field6=E.value,r.field7="",r.photo=c.result};function J(e){e.preventDefault(),z(),fetch("https://dev.adalab.es/api/info/data",{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json"}}).then(o=>o.json()).then(o=>{const n=o.infoID;s.classList.remove("collapse"),n===void 0?(d.style.color="red",d.innerHTML="Ha ocurrido un error, inténtalo de nuevo"):(s.href=`./cardDetails.html?id=${n}`,d.style.color="nubes",d.innerHTML=s.href,O.classList.remove("collapse"),R.href=`https://twitter.com/intent/tweet?text=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${r.field2}&url=${s.href}`,B.href=`https://api.whatsapp.com/send?text=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${r.field2}%20${s.href}`,U.href=`mailto:?subject=Tarjeta%20hay%20un%20amigo%20en%20mi&body=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${r.field2}:%20${s.href}`)})}N.addEventListener("click",J);
//# sourceMappingURL=main.js.map
