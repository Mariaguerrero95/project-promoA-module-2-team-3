const v=document.querySelector(".js-div-container__form"),b=document.querySelector(".js-fieldset-diseña");document.querySelector(".js-azul");document.querySelector(".js-amarillo");document.querySelector(".js-verde");document.querySelector(".js-legend-design");const i=document.querySelector(".js-form-design"),u=document.querySelector(".js-arrow");b.addEventListener("click",e=>{e.target.id==="option1"?(t.classList.add("card-background-blue"),t.classList.remove("card-background-yellow"),t.classList.remove("card-background-green")):e.target.id==="option2"?(t.classList.add("card-background-yellow"),t.classList.remove("card-background-blue"),t.classList.remove("card-background-green")):e.target.id==="option3"&&(t.classList.add("card-background-green"),t.classList.remove("card-background-yellow"),t.classList.remove("card-background-blue"))});const k=document.querySelector(".js-fieldset-rellena"),w=document.querySelector(".js-input-nameAddressee"),C=document.querySelector(".js-input-message");document.querySelector(".js-input-img");const d=document.querySelector(".js-input-phone"),I=document.querySelector(".js-input-nameSender"),T=document.querySelector(".js-input-insta");document.querySelector(".js-legend-fillout");const m=document.querySelector(".js-arrow-fillout"),g=document.querySelector(".js-form-fillout");d.addEventListener("input",E);function E(){d.value=d.value.replace(/[^0-9]/g,"")}const $=document.querySelectorAll(".js-legend"),A=e=>{e.currentTarget.classList.contains("js-legend-design")?(i.classList.toggle("collapse"),u.classList.toggle("rotate"),g.classList.add("collapse"),m.classList.remove("rotate"),f.classList.add("collapse"),p.classList.remove("rotate")):e.currentTarget.classList.contains("js-legend-fillout")?(g.classList.toggle("collapse"),m.classList.toggle("rotate"),i.classList.add("collapse"),u.classList.remove("rotate"),f.classList.add("collapse"),p.classList.remove("rotate")):e.currentTarget.classList.contains("js-legend-share")&&(f.classList.toggle("collapse"),p.classList.toggle("rotate"),i.classList.add("collapse"),u.classList.remove("rotate"),g.classList.add("collapse"),m.classList.remove("rotate"))};for(const e of $)e.addEventListener("click",A);const c=new FileReader,x=document.querySelector(".js__profile-upload-btn"),y=document.querySelector(".js__profile-image"),F=document.querySelector(".js-card-photo-img");function H(e){const o=e.currentTarget.files[0];c.addEventListener("load",P),c.readAsDataURL(o)}function P(){y.style.backgroundImage=`url(${c.result})`,F.style.backgroundImage=`url(${c.result})`}x.addEventListener("change",H);document.querySelector(".js-card");const t=document.querySelector(".js-card-found-img"),j=document.querySelector(".js-card-nameAddressee"),S=document.querySelector(".js-card-message"),D=document.querySelector(".js-card-photo-img"),L=document.querySelector(".js-card-phone"),h=document.querySelector(".js-card-nameSender"),q=document.querySelector(".js-card-insta"),M=document.querySelector(".js-button-reset");function a(e,o,n){e.target.id===o&&(n.innerHTML=e.target.value)}k.addEventListener("input",e=>{a(e,"nameAddressee",j),a(e,"message",S),a(e,"phone",L),a(e,"nameSender",h),a(e,"insta",q)});M.addEventListener("click",()=>{j.textContent="To: Buddy",S.textContent="Te voy a echar mucho de menos",L.textContent="612345678",h.textContent="Mr. Potato",q.textContent="@mrpotato",D.style.backgroundImage='url("images/mr-potato.png")',t.classList.add("card-background-blue"),t.classList.remove("card-background-yellow"),t.classList.remove("card-background-green"),v.reset(),y.style.backgroundImage=""});document.querySelector(".js-legend-share");const f=document.querySelector(".js-form-share"),p=document.querySelector(".js-icon-arrow-share"),_=document.querySelector(".js-card-create"),N=document.querySelector(".js-share-open"),s=document.querySelector(".js-link");let l=document.querySelector(".js-urlCard");const O=document.querySelector(".js-twitter"),R=document.querySelector(".js-whatsapp"),B=document.querySelector(".js-email"),r={field1:1,field2:"",field3:"",field4:"",field5:"",field6:"",photo:""},U=()=>{r.field2=w.value,r.field3=C.value,r.field4=d.value,r.field5=I.value,r.field6=T.value,r.field7="",r.photo=c.result};function z(e){e.preventDefault(),U(),fetch("https://dev.adalab.es/api/info/data",{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json"}}).then(o=>o.json()).then(o=>{const n=o.infoID;s.classList.remove("collapse"),n===void 0?(l.style.color="red",l.innerHTML="Ha ocurrido un error, inténtalo de nuevo"):(s.href=`./cardDetails.html?id=${n}`,l.style.color="blue",l.innerHTML=s.href,N.classList.remove("collapse"),O.href=`https://twitter.com/intent/tweet?text=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${r.field2}&url=${s.href}`,R.href=`https://api.whatsapp.com/send?text=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${r.field2}%20${s.href}`,B.href=`mailto:?subject=Tarjeta%20hay%20un%20amigo%20en%20mi&body=He%20creado%20esta%20tarjeta%20para%20que%20no%20te%20olvides%20de%20mi,%20${r.field2}:%20${s.href}`)})}_.addEventListener("click",z);
//# sourceMappingURL=main.js.map
